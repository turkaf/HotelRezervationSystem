
@{
    ViewData["Title"] = "Bookings";
    Layout = "~/Views/Shared/_CustomerLayout.cshtml";
}

<div class="d-flex justify-content-between align-items-center">
    <h2>Bookings</h2>
</div>

<table class="table table-striped mt-4">
    <thead>
        <tr>
            <th scope="col">Room</th>
            <th scope="col">City</th>
            <th scope="col">Checkin Date</th>
            <th scope="col">Checkout Date</th>
            <th scope="col">Total Price</th>
            <th scope="col">Rate</th>
            <th scope="col">Settings</th>
        </tr>
    </thead>
    <tbody class="table-group-divider">
        <tr>
            <td>Room1</td>
            <td>City</td>
            <td>05.12.2024</td>
            <td>05.12.2024</td>
            <td>$1650</td>
            <td>
                <span class="stars" data-id="1">
                    <i class="bi bi-star-fill text-warning" onclick="rateRoom(1, 1)"></i>
                    <i class="bi bi-star-fill text-warning" onclick="rateRoom(1, 2)"></i>
                    <i class="bi bi-star-fill text-warning" onclick="rateRoom(1, 3)"></i>
                    <i class="bi bi-star-fill text-warning" onclick="rateRoom(1, 4)"></i>
                    <i class="bi bi-star text-warning" onclick="rateRoom(1, 5)"></i>
                </span>
            </td>
            <td>
                <button type="button" class="btn btn-primary me-1">View</button>
                <button type="button" class="btn btn-danger">Cancel</button>
            </td>
        </tr>
        <tr>
            <td>Room1</td>
            <td>City</td>
            <td>05.12.2024</td>
            <td>05.12.2024</td>
            <td>$1650</td>
            <td>
                <span class="stars" data-id="2">
                    <i class="bi bi-star-fill text-warning" onclick="rateRoom(2, 1)"></i>
                    <i class="bi bi-star-fill text-warning" onclick="rateRoom(2, 2)"></i>
                    <i class="bi bi-star-fill text-warning" onclick="rateRoom(2, 3)"></i>
                    <i class="bi bi-star-fill text-warning" onclick="rateRoom(2, 4)"></i>
                    <i class="bi bi-star text-warning" onclick="rateRoom(2, 5)"></i>
                </span>
            </td>
            <td>
                <button type="button" class="btn btn-primary me-1">View</button>
                <button type="button" class="btn btn-danger">Cancel</button>
            </td>
        </tr>
        <tr>
            <td>Room1</td>
            <td>City</td>
            <td>05.12.2024</td>
            <td>05.12.2024</td>
            <td>$1650</td>
            <td>
                <span class="stars" data-id="3">
                    <i class="bi bi-star-fill text-warning" onclick="rateRoom(3, 1)"></i>
                    <i class="bi bi-star-fill text-warning" onclick="rateRoom(3, 2)"></i>
                    <i class="bi bi-star-fill text-warning" onclick="rateRoom(3, 3)"></i>
                    <i class="bi bi-star-fill text-warning" onclick="rateRoom(3, 4)"></i>
                    <i class="bi bi-star text-warning" onclick="rateRoom(3, 5)"></i>
                </span>
            </td>
            <td>
                <button type="button" class="btn btn-primary me-1">View</button>
                <button type="button" class="btn btn-danger">Cancel</button>
            </td>
        </tr>
    </tbody>
</table>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<script>
    document.getElementById("menu-toggle").addEventListener("click", function (e) {
        e.preventDefault();
        document.getElementById("sidebar").classList.toggle("d-none");
    });

    function rateRoom(rowId, starCount) {
        const stars = document.querySelectorAll(`.stars[data-id='${rowId}'] i`);

        stars.forEach((star, index) => {
            if (index < starCount) {
                star.classList.add("bi-star-fill");
                star.classList.remove("bi-star");
            } else {
                star.classList.remove("bi-star-fill");
                star.classList.add("bi-star");
            }
        });

        console.log(`Room ${rowId} rated with ${starCount} stars`);
    }
</script>